!function(){var e={184:function(e,t){var a;!function(){"use strict";var n={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var c=typeof a;if("string"===c||"number"===c)e.push(a);else if(Array.isArray(a)){if(a.length){var r=l.apply(null,a);r&&e.push(r)}}else if("object"===c){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){e.push(a.toString());continue}for(var s in a)n.call(a,s)&&a[s]&&e.push(s)}}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(a=function(){return l}.apply(t,[]))||(e.exports=a)}()}},t={};function a(n){var l=t[n];if(void 0!==l)return l.exports;var c=t[n]={exports:{}};return e[n](c,c.exports,a),c.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.i18n,t=window.wp.element,n=window.wp.blocks,l=window.wp.blockEditor,c="function"==typeof l.useInnerBlocksProps?l.useInnerBlocksProps:l.__experimentalUseInnerBlocksProps,r=JSON.parse('{"u2":"loos/ab-test"}'),s=React.createElement("svg",{viewBox:"0 0 56 56"},React.createElement("path",{d:"M18.7,32.4h-5.5l-1,3.1H8.9l5.4-15h3.5l5.3,15h-3.4L18.7,32.4z M17.9,29.8L16,23.9l-1.9,5.9H17.9z"}),React.createElement("path",{d:"M53,7H3C2.4,7,2,7.4,2,8v40c0,0.6,0.4,1,1,1h50c0.6,0,1-0.4,1-1V8C54,7.4,53.6,7,53,7z M25.3,46H5V10h25.7L25.3,46z M47.5,33.4c-0.3,0.5-0.6,0.9-1.1,1.2c-0.5,0.4-1,0.6-1.7,0.8s-1.4,0.2-2.1,0.2h-6.8v-15h7.3c1.8,0,3.1,0.6,3.9,1.6 c0.5,0.6,0.7,1.4,0.7,2.3c0,0.9-0.2,1.7-0.7,2.2c-0.3,0.3-0.6,0.6-1.1,0.9c0.8,0.3,1.3,0.7,1.7,1.3c0.4,0.6,0.6,1.3,0.6,2.2 C48.2,31.9,48,32.7,47.5,33.4z"}),React.createElement("path",{d:"M44.1,26c0.4-0.2,0.6-0.7,0.6-1.3c0-0.7-0.3-1.2-0.8-1.4c-0.5-0.2-1.1-0.2-1.8-0.2h-3.3v3.3h3.7 C43.1,26.4,43.7,26.3,44.1,26z"}),React.createElement("path",{d:"M44.1,29.1c-0.4-0.2-0.9-0.2-1.5-0.3h-3.7v4h3.7c0.7,0,1.2-0.1,1.5-0.3c0.7-0.3,1-0.9,1-1.9C45,30,44.7,29.4,44.1,29.1z"})),o=window.wp.components,i=({attributes:t,setAttributes:a,clientId:n})=>{const{rateA:l,rateB:c,syncId:r,syncMode:s}=t;return React.createElement(o.PanelBody,{title:(0,e.__)("設定","swell")},React.createElement(o.Flex,{className:"swl-control--abRate"},React.createElement(o.FlexItem,null,React.createElement("span",{className:"__abLabel -A"},"A"),React.createElement("br",null),React.createElement("span",{className:"__abRate"},l,"%")),React.createElement(o.FlexBlock,null,React.createElement(o.RangeControl,{allowReset:!0,label:(0,e.__)("表示比率","swell"),value:l,onChange:e=>{a(50===e?{rate:void 0}:{rate:e})},min:0,max:100})),React.createElement(o.FlexItem,null,React.createElement("span",{className:"__abLabel -B"},"B"),React.createElement("br",null),React.createElement("span",{className:"__abRate"},c,"%"))),React.createElement(o.ToggleControl,{label:(0,e.__)("同期モードをONにする","swell"),checked:s,onChange:e=>{if(e&&!r){const t=function(e){return e.substring(0,e.indexOf("-"))}(n);a({syncId:t,syncMode:e})}else a({syncMode:e})}}),s&&React.createElement(React.Fragment,null,React.createElement(o.TextControl,{label:(0,e.__)("同期ID","swell"),help:(0,e.__)("※ 同じIDを持つABテストブロックが同一ページ内にあれば、同じブロックが表示されます。表示比率は、最初のブロックのものが参照されます。","swell"),value:r,onChange:e=>{a({syncId:e})}})))},u=a(184),m=a.n(u),p=(0,t.memo)((e=>{const{tabs:t,state:a,setState:n,className:l}=e;return React.createElement("div",{className:m()("swl-tabControl",l)},t.map((e=>React.createElement(o.Button,{isSecondary:a!==e.key,isPrimary:a===e.key,onClick:()=>{n(e.key)},key:`tabkey_${e.key}`},e.label))))}));const b=["loos/ab-test-a","loos/ab-test-b"],d=[["loos/ab-test-a"],["loos/ab-test-b"]];(0,n.registerBlockType)(r.u2,{title:(0,e.__)("ABテスト","swell"),description:(0,e.__)("2つのブロックをランダムに表示します。","swell"),icon:s,edit:({attributes:a,setAttributes:n,clientId:r})=>{const{rate:s}=a,[o,u]=(0,t.useState)("tab-a"),R=(0,l.useBlockProps)({className:m()("swell-block-abTest",o,"swl-inner-blocks")}),w=c(R,{allowedBlocks:b,template:d,templateLock:!0}),{children:f,..._}=w,h=void 0===s?50:s,v=100-h;return React.createElement(React.Fragment,null,React.createElement(l.InspectorControls,null,React.createElement(i,{attributes:a,setAttributes:n,clientId:r})),React.createElement("div",_,React.createElement(p,{className:"-ab-test",tabs:[{key:"tab-a",label:(0,e.__)("Aブロック","swell")+` (${h}%)`},{key:"tab-b",label:(0,e.__)("Bブロック","swell")+` (${v}%)`}],state:o,setState:u}),f))},save:()=>React.createElement(l.InnerBlocks.Content,null)})}()}();